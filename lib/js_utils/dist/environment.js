import o from"is-number";function l(e){return e!==null&&typeof e=="object"&&Array.isArray(e)===!1}function a(e){return Array.isArray(e)}function s(e){return typeof e=="string"||e instanceof String}var u=globalThis.window,m=!u&&globalThis.self,p=globalThis.process;function b(){return u&&"browser"||m&&"webWorker"||p&&"node"}function z(e){return e===b()}function y(){return w("MODE",!0)}function T(e){return e===y()}function f(e,t){if(a(e))for(let n=e.length-1;n>=0;n--){let r=f(e[n],t);if(r)return r}return l(e)?e[t]:(s(e)||o(e))&&e}function w(e,t,n="",{required:r=!1,defaultValue:c,staticValue:g,ignoreTarget:d,rename:h}={}){let i=f(e,n)||g||c||"";if(r&&!i)throw new Error(`Missing environment variable:${n}`);return d?i:Object.assign(t??{},{[h??n]:i})}export{y as detectMode,b as detectRuntime,w as getEnvar,T as isMode,z as isRuntime};
